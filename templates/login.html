<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ç™»å…¥</title>
  <style>
    /* ==============================
			é é¢èˆ‡æ’ç‰ˆåŸºç¤æ¨£å¼
       - è¨­å®šå­—é«”ã€æœ€å¤§å¯¬åº¦èˆ‡ç½®ä¸­
       ============================== */
	   
  html, body {
    height: 100%;
    background: transparent; /* èƒŒæ™¯æ”¹ç”±å½å…ƒç´ é¡¯ç¤º */
  }

  body {
    font-family: Arial, sans-serif;
    margin: 40px;
    color: #333;
  }

  /* âœ… è¦†è“‹èƒŒæ™¯ï¼šä»¥å½å…ƒç´ é‹ªæ»¿å…¨è¦–çª—ï¼Œé¿å…æ‰‹æ©Ÿå‡ºç¾ä¸‹æ–¹ç™½å¸¶ */
  body::before {
    content: "";
    position: fixed;       /* å›ºå®šåœ¨è¦–çª—ï¼Œä¸å—å…§å®¹é«˜åº¦å½±éŸ¿ */
    inset: 0;
    z-index: -1;           /* ç½®æ–¼æ‰€æœ‰å…§å®¹å¾Œæ–¹ */
    background:
      linear-gradient(rgba(255,255,255,.8), rgba(255,255,255,.8)),
      url("{{ url_for('static', filename='img/crochet-bg.jpg') }}")
      center / cover no-repeat;
  }

  /* ğŸ“± æ‰‹æ©Ÿï¼šé¿å… fixed ç›¸å®¹æ€§å•é¡Œï¼Œæ”¹ç”¨ absolute + 100dvh */
  @media (max-width: 640px){
    body { margin: 20px; }
    body::before {
      position: absolute;
      min-height: 100dvh;  /* å‹•æ…‹è¦–çª—é«˜åº¦ï¼Œé¿å…å·¥å…·åˆ—æ“ å£“ */
      height: 100%;
      background:
        linear-gradient(rgba(255,255,255,.82), rgba(255,255,255,.82)),
        url("{{ url_for('static', filename='img/crochet-bg.jpg') }}")
        center / cover no-repeat;
    }
  }
    /* ==============================
			ç³»çµ±æç¤ºï¼ˆFlash messagesï¼‰
       - ç”¨æ–¼é¡¯ç¤ºç™»å…¥æˆåŠŸ/å¤±æ•—ã€éŒ¯èª¤è¨Šæ¯ç­‰
       ============================== */
    .flash {
      background: #fde68a;  /* æ·¡é»ƒè‰²èƒŒæ™¯ */
      color: #92400e;       /* æ·±æ©˜æ–‡å­— */
      padding: 10px 12px;
      border-radius: 8px;
      margin: 10px 0;
    }

    /* ==============================
			è¡¨å–®æ¬„ä½ç¾¤çµ„
       - å‚ç›´æ’åˆ—ä¸¦åŠ å…¥é–“è·
       ============================== */
    .row {
      display: flex;
      flex-direction: column; /* å‚ç›´å †ç–Š label èˆ‡ input */
      gap: 6px;
      margin: 10px 0;
    }

    /* ==============================
			è¼¸å…¥æ¡†æ¨£å¼
       - é‚Šæ¡†ã€åœ“è§’èˆ‡å…§è·
       ============================== */
    input {
      padding: 10px 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      width: 100%;
    }

    /* ==============================
		 é€å‡ºæŒ‰éˆ•æ¨£å¼
       - è—åº•ç™½å­—ã€åœ“è§’
       ============================== */
    button {
      background: #2563eb;
      color: #fff;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
    }

    /* ==============================
			é€£çµæ¨£å¼
       ============================== */
    a { color: #2563eb; }
  </style>
</head>
<body>
  <h2>ç™»å…¥</h2>

  <!-- ==============================
       Flask çš„ flash è¨Šæ¯é¡¯ç¤º
       - å¾Œç«¯é€é flash() æ¨é€è¨Šæ¯ï¼ˆå¦‚ï¼šå¸³å¯†éŒ¯èª¤ã€ç™»å…¥æˆåŠŸï¼‰
       - é€™è£¡é€ä¸€æ¸²æŸ“ä¸¦å¥—ç”¨ .flash æ¨£å¼
       ============================== -->
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for m in messages %}
        <div class="flash">{{ m }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <!-- ==============================
       ç™»å…¥è¡¨å–®
       - method="post" é€è‡³ /login
       - å…©å€‹æ¬„ä½ï¼šEmailã€å¯†ç¢¼
       - é€å‡ºå¾Œç”±å¾Œç«¯é©—è­‰å¸³å¯†ä¸¦è¨­å®š session
       ============================== -->
  <form method="post" action="{{ url_for('login') }}">
    <div class="row">
      <label for="email">Email</label>
      <input id="email" name="email" type="email" required />
    </div>
    <div class="row">
      <label for="password">å¯†ç¢¼</label>
      <input id="password" name="password" type="password" required minlength="6" />
    </div>
    <button type="submit">ç™»å…¥</button>
  </form>
<p style="margin-top:10px;">
  <a href="{{ url_for('forgot') }}">å¿˜è¨˜å¯†ç¢¼ï¼Ÿ</a>
</p>

  <p>é‚„æ²’æœ‰å¸³è™Ÿï¼Ÿ<a href="{{ url_for('register') }}">å»è¨»å†Š</a></p>
</body>
</html>
