<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>修改密碼</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 
    提供使用者修改登入密碼的表單介面。
    包含舊密碼、新密碼與確認密碼欄位，
    並支援 Flask 的 Flash 訊息顯示（顯示成功或錯誤通知）。
  -->
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 560px;
      margin: 40px auto;
      color: #333;
    }

    h1 {
      font-size: 24px;
      margin-bottom: 12px;
    }

    .row {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin: 10px 0;
    }

    input {
      padding: 10px 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      width: 100%;
    }

    button {
      background: #967AA1;
      color: #fff;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
    }

    a {
      color: #2563eb;
      text-decoration: none;
    }

    .flash {
      background: #fde68a;
      color: #92400e;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 12px;
    }
  </style>
</head>
<body>
<h1>修改密碼</h1>

  <!-- ===== Flash 訊息顯示區 =====
       用於顯示伺服端傳回的通知訊息，例如「修改成功」或「舊密碼錯誤」。
  -->
{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for m in messages %}
      <div class="flash">{{ m }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}
  <!-- ===== 修改密碼表單 =====
       透過 POST 方法送出舊密碼與新密碼欄位資料至後端驗證與更新。
  -->
<form method="post">
  <div class="row">
    <label for="old">舊密碼</label>
    <input id="old" name="old" type="password" required>
  </div>
  <div class="row">
    <label for="new">新密碼（至少 6 碼）</label>
    <input id="new" name="new" type="password" minlength="6" required>
  </div>
  <div class="row">
    <label for="confirm">確認新密碼</label>
    <input id="confirm" name="confirm" type="password" minlength="6" required>
  </div>
  <button type="submit">更新密碼</button>
</form>

<p style="margin-top:10px;"><a href="{{ url_for('profile') }}">回個人介面</a></p>
</body>
</html>
